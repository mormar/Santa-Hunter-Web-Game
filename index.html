<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<title>Santa Hunter</title>
	<!-- include phaser lib --> 
	<script type="text/javascript" src="phaser.min.js"></script>
	<style type="text/css">
		body{
			margin: 50px;
		}
	</style>
</head>
<body> 

<script type="text/javascript">

var game = new Phaser.Game(1024, 768, Phaser.AUTO, '', { preload: preload,
	create: create, update: update, render: render  });

function preload() {
	game.load.image('background','assets/ForestNight.png');
	game.load.image('player','assets/ball.png');
	game.load.image('blockOfGround','assets/surface8.png');

	
}
//Global vars
var cursors;
var spritePlayer;
var jumpButton;
var jumpTimer = 0;

function create() {

	// add physics Arcade Physics system
	game.physics.startSystem(Phaser.Physics.ARCADE);
	
	// background
	var spriteBackground = game.add.sprite(0, 0, 'background');

    // Scale sprite background
      spriteBackground.scale.x = 0.55;
      spriteBackground.scale.y = 0.72;
	
	// player
	spritePlayer = game.add.sprite(32, game.world.height - 100, 'player');
	// Scale sprite player
	spritePlayer.scale.x = 0.1;
	spritePlayer.scale.y = 0.1;

	// Enable physics on the player
    game.physics.enable(spritePlayer, Phaser.Physics.ARCADE);
    
    // Player physics properties.
    spritePlayer.body.bounce.y = 0.2;
    spritePlayer.body.gravity.y = 75;
    spritePlayer.body.maxVelocity.y = 150;
    spritePlayer.body.collideWorldBounds = true; 

    //  Our controls.
    cursors = game.input.keyboard.createCursorKeys();
    jumpButton = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
}
function update() {
	
	//Prevents ball from moving
	spritePlayer.body.velocity.x = 0;
	
	//checks for right arrow key
	if(cursors.right.isDown){

        spritePlayer.body.velocity.x = 150;
	} 
	//checks for left arrow key
	else if(cursors.left.isDown){

        spritePlayer.body.velocity.x = -150;	
	}
	//jump for arrow key up
	if(cursors.up.isDown && spritePlayer.body.onFloor() && game.time.now > jumpTimer){
		spritePlayer.body.velocity.y = -250;
		jumpTimer = game.time.now + 750;
	}
}

function render () {
	//game.debug.text(game.time.suggestedFps, 32, 32);
    
}
//function collect(){
//
//}
</script>

</body>
</html>